(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{"2i3i":function(r,t,e){"use strict";e.r(t),e.d(t,"RegisterModule",function(){return x});var a=e("PCNd"),i=e("94wA"),s=e("3Pt+"),o=e("fXoL"),n=e("tyNb"),c=e("7dP1"),l=e("lxpx"),b=e("sYmb"),m=e("dNgK"),u=e("Wp6s"),p=e("kmnG"),d=e("qFsG"),f=e("ofXK"),g=e("bTqV"),h=e("NFeN"),F=e("znSr");function w(r,t){1&r&&(o.Yb(0,"mat-error"),o.Qc(1),o.oc(2,"translate"),o.Xb()),2&r&&(o.Fb(1),o.Sc("",o.pc(2,1,"public.register.firstNameRequired")," "))}function v(r,t){1&r&&(o.Yb(0,"mat-error"),o.Qc(1),o.oc(2,"translate"),o.Xb()),2&r&&(o.Fb(1),o.Sc("",o.pc(2,1,"public.register.firstName2chars")," "))}function X(r,t){1&r&&(o.Yb(0,"mat-error"),o.Qc(1),o.oc(2,"translate"),o.Xb()),2&r&&(o.Fb(1),o.Sc(" ",o.pc(2,1,"public.register.firstNamePattern")," "))}function Y(r,t){1&r&&(o.Yb(0,"mat-error"),o.Qc(1),o.oc(2,"translate"),o.Xb()),2&r&&(o.Fb(1),o.Sc("",o.pc(2,1,"public.register.lastNameRequired")," "))}function N(r,t){1&r&&(o.Yb(0,"mat-error"),o.Qc(1),o.oc(2,"translate"),o.Xb()),2&r&&(o.Fb(1),o.Sc("",o.pc(2,1,"public.register.lastName2chars")," "))}function S(r,t){1&r&&(o.Yb(0,"mat-error"),o.Qc(1),o.oc(2,"translate"),o.Xb()),2&r&&(o.Fb(1),o.Sc(" ",o.pc(2,1,"public.register.lastNamePattern")," "))}function C(r,t){1&r&&(o.Yb(0,"mat-error"),o.Qc(1),o.oc(2,"translate"),o.Xb()),2&r&&(o.Fb(1),o.Rc(o.pc(2,1,"public.login.error.email.required")))}function y(r,t){1&r&&(o.Yb(0,"mat-error"),o.Qc(1),o.oc(2,"translate"),o.Xb()),2&r&&(o.Fb(1),o.Rc(o.pc(2,1,"public.login.error.email.invalid")))}function P(r,t){1&r&&(o.Yb(0,"mat-error"),o.Qc(1),o.oc(2,"translate"),o.Xb()),2&r&&(o.Fb(1),o.Sc("",o.pc(2,1,"public.login.error.password.required")," "))}const Q=function(r){return{minPw:r}};function I(r,t){if(1&r&&(o.Yb(0,"mat-error"),o.Qc(1),o.oc(2,"translate"),o.Xb()),2&r){const r=o.nc();o.Fb(1),o.Rc(o.qc(2,1,"public.register.passwordMinLength",o.Ac(4,Q,r.minPw)))}}function q(r,t){1&r&&(o.Yb(0,"mat-error"),o.Qc(1),o.oc(2,"translate"),o.Xb()),2&r&&(o.Fb(1),o.Sc("",o.pc(2,1,"public.login.error.password.required")," "))}function k(r,t){1&r&&(o.Yb(0,"mat-error"),o.Qc(1),o.oc(2,"translate"),o.Xb()),2&r&&(o.Fb(1),o.Sc(" ",o.pc(2,1,"public.register.passwordsNoMatch")," "))}const O=function(r,t){return{"mat-color-primary text-white":r,"color-grey":t}},L=[{path:"",component:(()=>{class r{constructor(r,t,e,a,i,s){this.fb=r,this.router=t,this.authService=e,this.translationService=a,this.translate=i,this.snackBar=s,this.hidePass1=!0,this.hidePass2=!0,this.minPw=8}get firstName(){return this.registerForm.get("firstName")}get lastName(){return this.registerForm.get("lastName")}get email(){return this.registerForm.get("email")}get password(){return this.registerForm.get("password")}get passwordConfirm(){return this.registerForm.get("passwordConfirm")}ngOnInit(){this.initForm(),this.updateLang()}ngOnDestroy(){this.langSub.unsubscribe()}onPasswordInput(){this.registerForm.hasError("passwordsNotEqual")?this.passwordConfirm.setErrors([{passwordsNotEqual:!0}]):this.passwordConfirm.setErrors(null)}initForm(){this.registerForm=this.fb.group({firstName:["",[s.u.required,s.u.minLength(2),s.u.pattern(/^[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\xff]+[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\xff '-]*[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\xff]$/)]],lastName:["",[s.u.required,s.u.minLength(2),s.u.pattern(/^[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\xff]+[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\xff '-]*[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\xff]$/)]],email:["",[s.u.required,s.u.email]],password:["",[s.u.required,s.u.minLength(this.minPw)]],passwordConfirm:["",[s.u.required]]},{validators:i.a})}updateLang(){this.translate.setDefaultLang(this.translationService.defaultLang),this.langSub=this.translationService.currentLang$.subscribe(r=>this.translate.use(r))}submit(){this.authService.register(this.registerForm.value).subscribe(r=>{this.authService.setUserEmail(r.email),this.router.navigate(["/email-confirmation"])},r=>this.snackBar.open(r.error.message,"OK",{duration:6e4,panelClass:"dark-snackbar"}))}triggerSubmit(r){r.preventDefault(),this.registerForm.valid&&this.submit()}}return r.\u0275fac=function(t){return new(t||r)(o.Sb(s.d),o.Sb(n.b),o.Sb(c.a),o.Sb(l.a),o.Sb(b.d),o.Sb(m.a))},r.\u0275cmp=o.Mb({type:r,selectors:[["app-register"]],decls:61,vars:49,consts:[[1,"mat-dark-elevation-z2","h-full"],[1,"text-center","display-4","py-4","py-md-5","text-white"],[1,"container"],[1,"col-10","col-sm-9","col-lg-8","mx-auto","mb-3","mb-md-0"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"col-12","col-md-6","my-3","mr-3","mr-md-0"],["appearance","fill",1,"w-100"],["matInput","","placeholder","Victor",3,"formControl"],[4,"ngIf"],[1,"col-12","col-md-6","my-3"],["matInput","","placeholder","Hugo",3,"formControl"],["appearance","fill",1,"w-100","mb-3"],["matInput","","placeholder","victor.hugo@tribe.com",3,"formControl"],["matInput","",3,"formControl","type"],["mat-icon-button","","matSuffix","",3,"click"],["matInput","",3,"formControl","type","keydown.enter","input"],[1,"text-center"],["type","submit","mat-raised-button","",3,"disabled","ngClass","click"]],template:function(r,t){1&r&&(o.Yb(0,"div",0),o.Yb(1,"h1",1),o.Qc(2),o.oc(3,"translate"),o.Xb(),o.Yb(4,"div",2),o.Yb(5,"div",3),o.Yb(6,"mat-card"),o.Yb(7,"mat-card-content"),o.Yb(8,"form",4),o.jc("ngSubmit",function(){return t.submit()}),o.Yb(9,"div",5),o.Yb(10,"div",6),o.Yb(11,"mat-form-field",7),o.Yb(12,"mat-label"),o.Qc(13),o.oc(14,"translate"),o.Xb(),o.Tb(15,"input",8),o.Oc(16,w,3,3,"mat-error",9),o.Oc(17,v,3,3,"mat-error",9),o.Oc(18,X,3,3,"mat-error",9),o.Xb(),o.Xb(),o.Yb(19,"div",10),o.Yb(20,"mat-form-field",7),o.Yb(21,"mat-label"),o.Qc(22),o.oc(23,"translate"),o.Xb(),o.Tb(24,"input",11),o.Oc(25,Y,3,3,"mat-error",9),o.Oc(26,N,3,3,"mat-error",9),o.Oc(27,S,3,3,"mat-error",9),o.Xb(),o.Xb(),o.Xb(),o.Yb(28,"mat-form-field",12),o.Yb(29,"mat-label"),o.Qc(30,"Email"),o.Xb(),o.Tb(31,"input",13),o.Oc(32,C,3,3,"mat-error",9),o.Oc(33,y,3,3,"mat-error",9),o.Xb(),o.Yb(34,"mat-form-field",12),o.Yb(35,"mat-label"),o.Qc(36),o.oc(37,"translate"),o.Xb(),o.Tb(38,"input",14),o.Yb(39,"button",15),o.jc("click",function(){return t.hidePass1=!t.hidePass1}),o.Yb(40,"mat-icon"),o.Qc(41),o.Xb(),o.Xb(),o.Oc(42,P,3,3,"mat-error",9),o.Oc(43,I,3,6,"mat-error",9),o.Xb(),o.Yb(44,"mat-form-field",12),o.Yb(45,"mat-label"),o.Qc(46),o.oc(47,"translate"),o.Xb(),o.Yb(48,"input",16),o.jc("keydown.enter",function(r){return t.triggerSubmit(r)})("input",function(){return t.onPasswordInput()}),o.Xb(),o.Yb(49,"button",15),o.jc("click",function(){return t.hidePass2=!t.hidePass2}),o.Yb(50,"mat-icon"),o.Qc(51),o.Xb(),o.Xb(),o.Oc(52,q,3,3,"mat-error",9),o.Oc(53,k,3,3,"mat-error",9),o.Xb(),o.Xb(),o.Xb(),o.Yb(54,"mat-card-actions"),o.Yb(55,"p",17),o.Yb(56,"button",18),o.jc("click",function(){return t.submit()}),o.Qc(57),o.oc(58,"translate"),o.Yb(59,"mat-icon"),o.Qc(60,"arrow_right_alt"),o.Xb(),o.Xb(),o.Xb(),o.Xb(),o.Xb(),o.Xb(),o.Xb(),o.Xb()),2&r&&(o.Fb(2),o.Rc(o.pc(3,34,"public.register.CreateAccount")),o.Fb(6),o.vc("formGroup",t.registerForm),o.Fb(5),o.Rc(o.pc(14,36,"public.register.firstName")),o.Fb(2),o.vc("formControl",t.firstName),o.Fb(1),o.vc("ngIf",null==t.firstName.errors?null:t.firstName.errors.required),o.Fb(1),o.vc("ngIf",null==t.firstName.errors?null:t.firstName.errors.minLength),o.Fb(1),o.vc("ngIf",(null==t.firstName.errors?null:t.firstName.errors.pattern)&&!(null!=t.firstName.errors&&t.firstName.errors.minLength)),o.Fb(4),o.Rc(o.pc(23,38,"public.register.lastName")),o.Fb(2),o.vc("formControl",t.lastName),o.Fb(1),o.vc("ngIf",null==t.lastName.errors?null:t.lastName.errors.required),o.Fb(1),o.vc("ngIf",null==t.lastName.errors?null:t.lastName.errors.minLength),o.Fb(1),o.vc("ngIf",(null==t.lastName.errors?null:t.lastName.errors.pattern)&&!(null!=t.lastName.errors&&t.lastName.errors.minLength)),o.Fb(4),o.vc("formControl",t.email),o.Fb(1),o.vc("ngIf",null==t.email.errors?null:t.email.errors.required),o.Fb(1),o.vc("ngIf",null==t.email.errors?null:t.email.errors.email),o.Fb(3),o.Rc(o.pc(37,40,"public.login.password")),o.Fb(2),o.vc("formControl",t.password)("type",t.hidePass1?"password":"text"),o.Fb(1),o.Gb("aria-label","hide password")("aria-pressed",t.hidePass1),o.Fb(2),o.Rc(t.hidePass1?"visibility_off":"visibility"),o.Fb(1),o.vc("ngIf",null==t.password.errors?null:t.password.errors.required),o.Fb(1),o.vc("ngIf",t.password.hasError("minlength")),o.Fb(3),o.Rc(o.pc(47,42,"public.register.passwordConfirm")),o.Fb(2),o.vc("formControl",t.passwordConfirm)("type",t.hidePass2?"password":"text"),o.Fb(1),o.Gb("aria-label","hide password")("aria-pressed",t.hidePass2),o.Fb(2),o.Rc(t.hidePass2?"visibility_off":"visibility"),o.Fb(1),o.vc("ngIf",null==t.passwordConfirm.errors?null:t.passwordConfirm.errors.required),o.Fb(1),o.vc("ngIf",t.passwordConfirm.invalid&&!t.passwordConfirm.hasError("required")),o.Fb(3),o.vc("disabled",!t.registerForm.valid)("ngClass",o.Bc(46,O,t.registerForm.valid,!t.registerForm.valid)),o.Fb(1),o.Sc(" ",o.pc(58,44,"public.register.SIGNUP"),""))},directives:[u.a,u.d,s.w,s.p,s.h,p.c,p.g,d.a,s.b,s.o,s.f,f.m,g.a,p.i,h.a,u.b,f.k,F.a,p.b],pipes:[b.c],styles:[""]}),r})()}];let R=(()=>{class r{}return r.\u0275mod=o.Qb({type:r}),r.\u0275inj=o.Pb({factory:function(t){return new(t||r)},imports:[[n.c.forChild(L)],n.c]}),r})(),x=(()=>{class r{}return r.\u0275mod=o.Qb({type:r}),r.\u0275inj=o.Pb({factory:function(t){return new(t||r)},imports:[[a.b,R]]}),r})()}}]);